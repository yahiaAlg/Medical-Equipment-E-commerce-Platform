{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{{ site_info.site_name }} - Contact Us{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contactUs.css' %}">
{% endblock %}

{% block content %}
<!-- Background Image Container -->
<div class="background-image-container"></div>

<!-- Contact Section -->
<div class="conatct-section">
  <div class="contact-container">
    <div class="contact-info">
      <h2>Contact the {{ site_info.site_name }} Team</h2>
      <p>
        If you're looking for a medical practice with caring, friendly, highly qualified, and experienced staff, 
        <strong>{{ site_info.site_name }}</strong> is the place to call (or contact online!). We understand that navigating health 
        concerns can be an overwhelming and unfamiliar process, and we aim to do everything we can to help you feel 
        at ease. Whether you want to make an appointment straight away or discuss any issues with us prior to booking, 
        we're here to listen and address any queries you may have.
      </p>
      <div class="contact-details">
        <div class="contact-detail">
          <img src="{% static 'images/phone.png' %}" alt="Phone Icon" class="icon-image">
          <div class="detail">
            <strong>Phone</strong>
            <a href="tel:{{ site_info.phone }}">{{ site_info.phone }}</a>
          </div>
        </div>
        {% if site_info.fax %}
        <div class="contact-detail">
          <img src="{% static 'images/fax.png' %}" alt="Fax Icon" class="icon-image">
          <div class="detail">
            <strong>Fax</strong>
            <a href="tel:{{ site_info.fax }}">{{ site_info.fax }}</a>
          </div>
        </div>
        {% endif %}
        <div class="contact-detail">
          <img src="{% static 'images/email.png' %}" alt="Email Icon" class="icon-image">
          <div class="detail">
            <strong>Email</strong>
            <a href="mailto:{{ site_info.email }}">{{ site_info.email }}</a>
          </div>
        </div>
        <div class="contact-detail">
          <img src="{% static 'images/address.png' %}" alt="Address Icon" class="icon-image">
          <div class="detail">
            <strong>Address</strong>
            <p class="address">{{ site_info.address }}</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="enquiry-form">
      <h2>Enquire Now</h2>
      <p>If you prefer to get in touch via email, please fill out your details and we will be in touch soon.</p>
      <form method="post" id="contactForm">
        {% csrf_token %}
        
        {% if form.errors %}
          <div class="alert alert-danger">
            <strong>Please correct the errors below:</strong>
            {{ form.errors }}
          </div>
        {% endif %}
        
        <div class="form-row">
          <div class="form-group">
            {{ form.name }}
            {% if form.name.errors %}
              <div class="error">{{ form.name.errors }}</div>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.email }}
            {% if form.email.errors %}
              <div class="error">{{ form.email.errors }}</div>
            {% endif %}
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            {{ form.phone }}
            {% if form.phone.errors %}
              <div class="error">{{ form.phone.errors }}</div>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.inquiry_type }}
            {% if form.inquiry_type.errors %}
              <div class="error">{{ form.inquiry_type.errors }}</div>
            {% endif %}
          </div>
        </div>
        
        <div class="form-group">
          {{ form.subject }}
          {% if form.subject.errors %}
            <div class="error">{{ form.subject.errors }}</div>
          {% endif %}
        </div>
        
        <div class="form-group">
          {{ form.message }}
          {% if form.message.errors %}
            <div class="error">{{ form.message.errors }}</div>
          {% endif %}
        </div>
        
        <button type="submit" class="submit-btn">Submit</button>
      </form>
    </div>

    </div>
  </div>
</div>

<!-- Map Section -->
{% if site_info.map_embed_url %}
<section class="map-section">
  <div class="map-container">
    <iframe
      src="{{ site_info.map_embed_url }}"
      width="100%"
      height="450"
      style="border: 0"
      allowfullscreen=""
      loading="lazy"
    ></iframe>
  </div>
</section>
{% endif %}
{% endblock %}