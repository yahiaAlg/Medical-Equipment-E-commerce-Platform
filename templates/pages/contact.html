{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}{{ site_info.site_name }} - Contactez-nous{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/contactUs.css' %}">
{% endblock %}

{% block content %}
<!-- Background Image Container -->
<div class="background-image-container"></div>

<!-- Contact Section -->
<div class="conatct-section">
  <div class="contact-container">
    <div class="contact-info">
      <h2>{{ site_info.contact_intro_title }} {{ site_info.site_name }}</h2>
      {% if site_info.contact_intro_text %}
        {{ site_info.contact_intro_text|safe }}
      {% else %}
        <p>
          <strong>{{ site_info.site_name }}</strong> est votre partenaire privilégié pour tous vos besoins 
          en équipements médicaux. Notre équipe de professionnels expérimentés est à votre disposition pour 
          vous conseiller et vous accompagner dans le choix des solutions les mieux adaptées à votre activité. 
          Que vous soyez médecin, dentiste, pharmacien, ou responsable d'établissement de santé, nous sommes 
          là pour répondre à toutes vos questions et vous proposer les meilleurs produits aux prix les plus 
          compétitifs du marché algérien.
        </p>
      {% endif %}
      <div class="contact-details">
        <div class="contact-detail">
          <img src="{% static 'images/phone.png' %}" alt="Icône Téléphone" class="icon-image">
          <div class="detail">
            <strong>Téléphone</strong>
            <a href="tel:{{ site_info.phone }}">{{ site_info.phone }}</a>
          </div>
        </div>
        {% if site_info.fax %}
        <div class="contact-detail">
          <img src="{% static 'images/fax.png' %}" alt="Icône Fax" class="icon-image">
          <div class="detail">
            <strong>Fax</strong>
            <a href="tel:{{ site_info.fax }}">{{ site_info.fax }}</a>
          </div>
        </div>
        {% endif %}
        <div class="contact-detail">
          <img src="{% static 'images/email.png' %}" alt="Icône Email" class="icon-image">
          <div class="detail">
            <strong>Email</strong>
            <a href="mailto:{{ site_info.email }}">{{ site_info.email }}</a>
          </div>
        </div>
        <div class="contact-detail">
          <img src="{% static 'images/address.png' %}" alt="Icône Adresse" class="icon-image">
          <div class="detail">
            <strong>Adresse</strong>
            <p class="address">{{ site_info.address }}</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="enquiry-form">
      <h2>{{ site_info.contact_form_title }}</h2>
      <p>{{ site_info.contact_form_description }}</p>
      <form method="post" id="contactForm">
        {% csrf_token %}
        
        {% if form.errors %}
          <div class="alert alert-danger">
            <strong>Veuillez corriger les erreurs ci-dessous :</strong>
            {{ form.errors }}
          </div>
        {% endif %}
        
        <div class="form-row">
          <div class="form-group">
            {{ form.name }}
            {% if form.name.errors %}
              <div class="error">{{ form.name.errors }}</div>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.email }}
            {% if form.email.errors %}
              <div class="error">{{ form.email.errors }}</div>
            {% endif %}
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            {{ form.phone }}
            {% if form.phone.errors %}
              <div class="error">{{ form.phone.errors }}</div>
            {% endif %}
          </div>
          <div class="form-group">
            {{ form.inquiry_type }}
            {% if form.inquiry_type.errors %}
              <div class="error">{{ form.inquiry_type.errors }}</div>
            {% endif %}
          </div>
        </div>
        
        <div class="form-group">
          {{ form.subject }}
          {% if form.subject.errors %}
            <div class="error">{{ form.subject.errors }}</div>
          {% endif %}
        </div>
        
        <div class="form-group">
          {{ form.message }}
          {% if form.message.errors %}
            <div class="error">{{ form.message.errors }}</div>
          {% endif %}
        </div>
        
        <button type="submit" class="submit-btn">Envoyer</button>
      </form>
    </div>

    </div>
  </div>
</div>

<!-- Map Section -->
{% if site_info.map_embed_url %}
<section class="map-section">
  <div class="map-container">
    <iframe
      src="{{ site_info.map_embed_url }}"
      width="100%"
      height="450"
      style="border: 0"
      allowfullscreen=""
      loading="lazy"
    ></iframe>
  </div>
</section>
{% endif %}
{% endblock %}